const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/wallet-evm-DTiKZG1P.js","assets/injective-utils-C9MYzl-J.js","assets/icons-Dj0zHVqu.js","assets/wallet-core-CdETWVBX.js","assets/injective-sdk-yGcRIHv8.js","assets/injective-networks-BywkriB7.js","assets/wallet-cosmos-DdmUEKwj.js","assets/wallet-hardware-C33NT-_L.js","assets/wallet-other-DeBqkjrb.js"])))=>i.map(i=>d[i]);
import{b5 as l}from"./injective-sdk-yGcRIHv8.js";import{G as P}from"./injective-utils-C9MYzl-J.js";import{B as b,W as r,i as T}from"./wallet-core-CdETWVBX.js";let d=null,S=null,v=null,p=null,f=null,h=null,m=null,w=null;const _=async()=>(d||(d=(await l(async()=>{const{EvmWalletStrategy:t}=await import("./wallet-evm-DTiKZG1P.js");return{EvmWalletStrategy:t}},__vite__mapDeps([0,1,2,3,4,5]))).EvmWalletStrategy),d),O=async()=>(S||(S=(await l(async()=>{const{CosmosWalletStrategy:t}=await import("./wallet-cosmos-DdmUEKwj.js");return{CosmosWalletStrategy:t}},__vite__mapDeps([6,4,1,2,3,5]))).CosmosWalletStrategy),S),W=async()=>{if(!v){const t=await l(()=>import("./wallet-hardware-C33NT-_L.js").then(e=>e.i),__vite__mapDeps([7,4,1,2,3,5]));v={LedgerLiveStrategy:t.LedgerLiveStrategy,LedgerLegacyStrategy:t.LedgerLegacyStrategy}}return v},E=async()=>{if(!p){const t=await l(()=>import("./wallet-hardware-C33NT-_L.js").then(e=>e.a),__vite__mapDeps([7,4,1,2,3,5]));p={TrezorBip32Strategy:t.TrezorBip32Strategy,TrezorBip44Strategy:t.TrezorBip44Strategy}}return p},C=async()=>(f||(f=(await l(async()=>{const{PrivateKeyWalletStrategy:t}=await import("./wallet-other-DeBqkjrb.js").then(e=>e.av);return{PrivateKeyWalletStrategy:t}},__vite__mapDeps([8,1,2,4,3,5]))).PrivateKeyWalletStrategy),f),I=async()=>(h||(h=(await l(async()=>{const{TurnkeyWalletStrategy:t}=await import("./wallet-other-DeBqkjrb.js").then(e=>e.aw);return{TurnkeyWalletStrategy:t}},__vite__mapDeps([8,1,2,4,3,5]))).TurnkeyWalletStrategy),h),M=async()=>(m||(m=(await l(async()=>{const{MagicStrategy:t}=await import("./wallet-other-DeBqkjrb.js").then(e=>e.ax);return{MagicStrategy:t}},__vite__mapDeps([8,1,2,4,3,5]))).MagicStrategy),m),z=async()=>(w||(w=(await l(async()=>{const{WalletConnectStrategy:t}=await import("./wallet-other-DeBqkjrb.js").then(e=>e.ay);return{WalletConnectStrategy:t}},__vite__mapDeps([8,1,2,4,3,5]))).WalletConnectStrategy),w);function g(t){"@babel/helpers - typeof";return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(t)}function B(t,e){if(g(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var i=a.call(t,e);if(g(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R(t){var e=B(t,"string");return g(e)=="symbol"?e:e+""}function k(t,e,a){return(e=R(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const A=t=>{const{evmOptions:e}=t;if(!e)return!0;const{evmChainId:a}=e;return!a},L=async({args:t,wallet:e,emitter:a})=>{if(T(e)&&A(t))return;const i={...t,chainId:t.chainId,evmOptions:t.evmOptions,emitter:a},c={...t,emitter:a};switch(e){case r.Metamask:case r.TrustWallet:case r.Phantom:case r.OkxWallet:case r.BitGet:case r.Rainbow:case r.Rabby:return new(await _())({...i,wallet:e});case r.Keplr:case r.Leap:case r.Ninji:case r.OWallet:case r.Cosmostation:return new(await O())({...c,wallet:e});case r.Ledger:{const{LedgerLiveStrategy:s}=await W();return new s(i)}case r.LedgerLegacy:{const{LedgerLegacyStrategy:s}=await W();return new s(i)}case r.TrezorBip32:{const{TrezorBip32Strategy:s}=await E();return new s(i)}case r.TrezorBip44:{const{TrezorBip44Strategy:s}=await E();return new s(i)}case r.PrivateKey:return new(await C())(i);case r.Turnkey:var o;return!((o=t.metadata)===null||o===void 0||(o=o.turnkey)===null||o===void 0)&&o.defaultOrganizationId?new(await I())(i):void 0;case r.Magic:var n,y;return!(!((n=t.metadata)===null||n===void 0||(n=n.magic)===null||n===void 0)&&n.apiKey)||!(!((y=t.metadata)===null||y===void 0||(y=y.magic)===null||y===void 0)&&y.rpcEndpoint)?void 0:new(await M())(c);case r.WalletConnect:var u;return!((u=t.metadata)===null||u===void 0||(u=u.walletConnect)===null||u===void 0)&&u.projectId?new(await z())(i):void 0;default:return}};var j=class extends b{constructor(t){const e={};super({...t,strategies:e}),k(this,"loadingStrategies",new Map)}async setWallet(t){var e;this.wallet=t;const a=await this.loadStrategy(t);await(a==null||(e=a.initStrategy)===null||e===void 0?void 0:e.call(a))}async setMetadata(t){const e=[r.PrivateKey,r.WalletConnect],a={...this.strategies,[r.PrivateKey]:void 0,[r.WalletConnect]:void 0};for(const o of Object.keys(a)){var i,c;const n=o;if(e.includes(n)){this.loadingStrategies.delete(n),this.strategies[n]=await L({args:{...this.args,metadata:{...this.args.metadata,...t}},wallet:n,emitter:this.getEmitter()});continue}(i=this.strategies[n])===null||i===void 0||(c=i.setMetadata)===null||c===void 0||c.call(i,t)}}getStrategy(){if(this.strategies[this.wallet])return this.strategies[this.wallet];throw new P(new Error(`Wallet ${this.wallet} strategy not loaded. Call setWallet() or loadStrategy() first.`))}async loadStrategy(t=this.wallet){if(this.strategies[t])return this.strategies[t];const e=this.loadingStrategies.get(t);if(e)return e;const a=L({args:this.args,wallet:t,emitter:this.getEmitter()});this.loadingStrategies.set(t,a);try{const i=await a;return i&&(this.strategies[t]=i),i}finally{this.loadingStrategies.delete(t)}}async loadStrategies(t){await Promise.all(t.map(e=>this.loadStrategy(e)))}};export{j as W};
